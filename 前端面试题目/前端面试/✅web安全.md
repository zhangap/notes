### 前端常见安全漏洞攻击：

1. XSS 跨站脚本攻击；
2. CSRF 跨站请求伪造。



#### XSS跨站脚本攻击

##### 常见的几种XSS：

1. 反射型XSS；

   步骤：

   1. 黑客构造恶意url链接诱导用户点击;
   2. 用户点击链接访问正常服务器，正常服务器将携带XSS的页面返回给客户端；
   3. 客户端加载解析正常服务器返回的信息，执行XSS代码；
   4. XSS携带用户信息请求恶意服务器，黑客从恶意服务器获取用户信息。

2. 存储型XSS；

   步骤：

   1. 黑客将XSS代码存储到正常服务器数据库中，如留言、聊天、评论；
   2. 用户访问有XSS代码的页面时，执行XSS代码；
   3. XSS携带用户信息请求恶意服务器，黑客从恶意服务器获取用户信息。

3. DOM型XSS；

   步骤：

   1. 黑客构造恶意url链接诱导用户点击；
   2. 用户点击访问正常服务器，正常服务器将携带XSS的页面返回给客户端；
   3. DOM型XSS可以修改DOM事件监听回调，改变用户默认的交互事件；
   4. 用户触发XSS绑定的事件，携带用户信息请求恶意服务器，黑客从恶意服务器获取用户信息。

4. 通用型XSS；

   浏览器以及浏览器扩展程序本身的漏洞导致。

5. 突变型XSS。

   不可信的数据被innerHTML处理插入DOM时发生突变导致漏洞。

   

##### XSS攻击的预防：

1. 存储和返回数据的时候通过转义；
2. 代码规范，规避风险。eval、innerHTML、document.write等容易出现隐患的谨慎使用。



#### CSRF 跨站请求伪造

##### 步骤：

1. 用户在A网站登录，浏览器中留存有用户登录的cookie信息；
2. 黑客在在A网站诱导用户点击恶意链接到B网站，用户中计了；
3. 在B网站请求A网站的接口，完成黑客不可告人的秘密；
4. 因为访问A网站的时候是有cookie的，所以A网站的服务端还以为是用户自己访问的，正常完成接口调用。



##### CSRF跨站请求伪造的预防：

1. 加上验证码验证，判断是不是用户自己操作的，很稳但是很烦；
2. 使用token验证，提高了黑客的破解成本（token不放在cookie里，黑客获取和解析token都需要成本），可以凑合着用；
3. 添加请求来源限制，通过origin header 和 referer header 来判断源域名，靠浏览器不是很靠谱。



#### 扩展

web安全聊完之后，可以聊一聊：

1⃣️  前端常用性能优化手段

2⃣️  前端鉴权



参考链接：

1. https://juejin.cn/post/6912030758404259854
2. https://www.zhihu.com/search?type=content&q=CSRF
2. https://tech.meituan.com/2018/10/11/fe-security-csrf.html